<!--logs.wxml-->
<view class="my-container">
  <view class="userinfo">
    <!-- 没有授权 -->
    <button wx:if="{{!hasUserInfo && canIUse}}" open-type="getUserInfo" bindgetuserinfo="getUserInfo"> 获取头像昵称 </button>
    <!-- 授权了 -->
    <block wx:else>
      <view class="info-top">
        <image bindtap="bindViewTap" class="userinfo-avatar" src="{{userInfo.avatarUrl}}" mode="cover"></image>
        <text class="userinfo-nickname">{{userInfo.nickName}}</text>
      </view>
      <view class="info-middle">
        <text class="vip-info">有效期至：{{userInfo.ExpiresDate}}</text>
      </view>
      <view class="info-bottom">
        <view class="cu-list grid col-{{gridCol}}">
          <view class="cu-item" wx:for="{{iconList}}" wx:key="index" wx:if="{{index<gridCol*2}}">
            <view data-url="{{item.url}}" data-method="{{item.method}}" bindtap="toUrl">
              <view class="cuIcon-{{item.icon}} text-{{item.color}}">
                <view class="cu-tag badge" wx:if="{{item.badge!=0}}">
                  <block wx:if="{{item.badge!=1}}">{{item.badge>99?"99+":item.badge}}</block>
                </view>
              </view>
              <text>{{item.name}}</text>
            </view>
          </view>
        </view>
      </view>
    </block>
  </view>
</view>
<!-- 编辑我的信息 -->
<view class="editInfo cu-modal {{modalName=='editInfo'?'show':''}}">
  <view class="cu-dialog">
    <input placeholder="请填写昵称" data-type="nickname" bindinput="changeInput" value="{{nickname}}"></input>
    <input type="number" maxlength="13" placeholder="请填写电话" data-type="mobile" bindinput="changeInput" value="{{mobile}}"></input>
    <view class="cu-bar bg-white">
      <view class="action margin-0 flex-sub  solid-left" bindtap="closeModal">完成</view>
    </view>
  </view>
</view>